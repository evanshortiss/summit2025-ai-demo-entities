---
# Input/Intake Topics
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-intake
  title: Intake Topic
  description: Entry point for all incoming customer messages before moderation
  annotations:
    kafka.io/topic-name: "customer-intake"
  tags:
    - kafka
    - topic
    - message-intake
    - entry-point
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-message
  title: Message Topic
  description: Contains messages for customer data processing and structured output analysis
  annotations:
    kafka.io/topic-name: "customer-messages"
  tags:
    - kafka
    - topic
    - message-processing
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-router
  title: Router Topic
  description: Messages routed for AI classification and routing decisions
  annotations:
    kafka.io/topic-name: "ai-router"
  tags:
    - kafka
    - topic
    - ai-routing
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-documents
  title: Documents Topic
  description: Document content for embedding generation and vector storage
  annotations:
    kafka.io/topic-name: "document-embeddings"
  tags:
    - kafka
    - topic
    - documents
    - embeddings
spec:
  type: topic
  owner: ai-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
# Routing Output Topics (Router-AI produces)
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-support
  title: Support Topic
  description: Support-related messages routed by AI classifier to support team
  annotations:
    kafka.io/topic-name: "support-requests"
  tags:
    - kafka
    - topic
    - support
    - ai-routing
spec:
  type: topic
  owner: support-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-finance
  title: Finance Topic
  description: Finance-related messages routed by AI classifier to finance team
  annotations:
    kafka.io/topic-name: "finance-requests"
  tags:
    - kafka
    - topic
    - finance
    - ai-routing
spec:
  type: topic
  owner: finance-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-website
  title: Website Topic
  description: Website-related messages routed by AI classifier to website team
  annotations:
    kafka.io/topic-name: "website-requests"
  tags:
    - kafka
    - topic
    - website
    - ai-routing
spec:
  type: topic
  owner: website-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-unknown
  title: Unknown Topic
  description: Messages that cannot be classified by AI router - requires manual review
  annotations:
    kafka.io/topic-name: "unknown-messages"
  tags:
    - kafka
    - topic
    - unclassified
    - manual-review
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
# Processing Output Topics
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-outflow
  title: Outflow Topic
  description: Processed responses from AI assistants and moderated content flowing out of the system
  annotations:
    kafka.io/topic-name: "customer-outflow"
  tags:
    - kafka
    - topic
    - ai-responses
    - output
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-structured-output
  title: Structured Output Topic
  description: Structured information extracted from unstructured messages by AI
  annotations:
    kafka.io/topic-name: "structured-output"
  tags:
    - kafka
    - topic
    - structured-data
    - ai-extraction
spec:
  type: topic
  owner: ai-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-customer-data
  title: Customer Data Topic
  description: Customer data events and updates from customer data service
  annotations:
    kafka.io/topic-name: "customer-data-events"
  tags:
    - kafka
    - topic
    - customer-data
    - events
spec:
  type: topic
  owner: customer-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker
---
# Error Handling Topic
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: kafka-topic-error
  title: Error Topic
  description: Error events from all services for centralized error handling and monitoring
  annotations:
    kafka.io/topic-name: "system-errors"
  tags:
    - kafka
    - topic
    - error-handling
    - monitoring
spec:
  type: topic
  owner: platform-team
  system: ai-customer-service-platform
  dependsOn:
    - resource:kafka-message-broker 